
from pyrogram import Client, filters
import requests
import random
import os
import re
import asyncio
import time
from VIPMUSIC import app
from time import time
import asyncio
from VIPMUSIC.utils.extraction import extract_user

# Define a dictionary to track the last message timestamp for each user
user_last_message_time = {}
user_command_count = {}
# Define the threshold for command spamming (e.g., 20 commands within 60 seconds)
SPAM_THRESHOLD = 2
SPAM_WINDOW_SECONDS = 5

from pyrogram.types import Message, InlineKeyboardMarkup, InlineKeyboardButton

SHAYRI = [ "**ğ‘µğ’†ğ’† ğ‘·ğ’‚ğ’“ğ’Œğ’–ğ’ ğ‘·ğ’ğ’…ğ’‰ğ’– ğŸ˜ğŸ’« ğ‘µğ’‚ğ’ ğ‘²ğ’‚ğ’ğ’‚ğ’Š ğ‘´ğ’‚ğ’“ğ’‚ğ’ğ’•ğ’‰ğ’Šğ’…ğ’–ğ’—ğ’†ğ’ ğŸ’âœ¨**",
"**ğ‘µğ’†ğ’† ğ‘ºğ’Šğ’“ğ’Šğ’„ğ’‰ğ’‚ ğŸ˜˜ğŸ’ ğ‘µğ’‚ğ’ ğ‘¯ğ’†ğ’‚ğ’“ğ’• ğ‘´ğ’†ğ’ğ’• ğ‘·ğ’‚ğ’ğ’ğ’–ğ’—ğ’†ğ’ ğŸ’«âœ¨**",
"**ğ‘µğ’†ğ’† ğ‘¯ğ’–ğ’ˆ ğ‘·ğ’‚ğ’ğ’ğ’‚ ğŸ¤—ğŸ’ ğ‘µğ’‚ğ’ ğ‘¯ğ’†ğ’‚ğ’—ğ’†ğ’ ğ‘»ğ’‰ğ’ğ’ğ’…ğ’–ğ’—ğ’†ğ’ ğŸ’«â˜ï¸**",
"**ğ‘µğ’†ğ’† ğ‘²ğ’‚ğ’ğ’ğ’‚ ğ‘·ğ’‚ğ’‚ğ’“ğ’Œğ’–ğ’ ğŸ˜ğŸ’ ğ‘µğ’‚ğ’ ğ‘¼ğ’ğ’‚ğ’ˆğ’‚ ğ‘´ğ’‚ğ’“ğ’‚ğ’ğ’•ğ’‰ğ’Šğ’…ğ’–ğ’—ğ’†ğ’ ğŸ’âœ¨**",
"**ğ‘µğ’†ğ’† ğ‘·ğ’†ğ’”ğ’–ğ’ ğ‘·ğ’ğ’…ğ’‰ğ’– ğŸ˜ğŸ’« ğ‘µğ’‚ğ’ ğ‘²ğ’‚ğ’ğ’‚ğ’Š ğ‘´ğ’‚ğ’“ğ’‚ğ’ğ’•ğ’‰ğ’Šğ’…ğ’–ğ’—ğ’†ğ’ ğŸ’âœ¨**",
"**ğ‘µğ’†ğ’† ğ‘ºğ’‚ğ’ğ’Šğ’‘ğ’‚ğ’ ğ‘½ğ’‚ğ’“ğ’–ğ’ ğ‘·ğ’ğ’…ğ’‰ğ’– ğŸ˜ğŸ’« ğ‘µğ’‚ğ’ ğ‘¯ğ’†ğ’‚ğ’“ğ’• ğ‘¹ğ’†ğ’”ğ’•ğ’‚ğ’“ğ’• ğ‘¨ğ’ˆğ’–ğ’ ğŸ’âœ¨**",
"**ğ‘µğ’†ğ’† ğ‘µğ’‚ğ’ ğ‘µğ’–ğ’‘ğ’‚ğ’•ğ’‰ğ’Š ğ‘·ğ’†ğ’”ğ’–ğ’ğ’ƒğ’ğ’…ğ’‰ğ’– ğŸ˜ğŸ’« ğ‘¼ğ’ğ’‚ğ’ˆğ’‚ğ’—ğ’† ğ‘µğ’Šğ’“ğ’–ğ’•ğ’‰ğ’‰ğ’‚ğ’ ğŸ’âœ¨**",
"**ğ‘µğ’†ğ’† ğ‘²ğ’‚ğ’ğ’ğ’‚ ğ‘²ğ’ğ’ğ’…ğ’– ğ‘·ğ’‚ğ’“ğ’Œğ’–ğ’ğ’ƒğ’ğ’…ğ’‰ğ’– ğŸ˜ğŸ’ ğ‘µğ’‚ğ’ ğ‘µğ’Šğ’“ğ’‚ğ’Šğ’—ğ’‚ğ’‚ğ’ˆğ’Šğ’…ğ’–ğ’—ğ’†ğ’ ğŸ’âœ¨**",
"**ğ‘µğ’†ğ’† ğ‘¬ğ’ ğ‘·ğ’†ğ’“ğ’‚ğ’Š ğ‘¨ğ’›ğ’‚ğ’Šğ’Œğ’–ğ’ğ’ƒğ’ğ’…ğ’‰ğ’– ğŸ˜ğŸ’ ğ‘µğ’‚ğ’ ğ‘¶ğ’—ğ’Šğ’Šğ’šğ’‚ğ’—ğ’† ğ‘´ğ’‚ğ’“ğ’Šğ’…ğ’–ğ’—ğ’†ğ’ ğŸ’âœ¨**",
"**ğ‘µğ’†ğ’† ğ‘·ğ’‚ğ’•ğ’‰ğ’Šğ’šğ’‚ ğ‘·ğ’†ğ’”ğ’–ğ’ğ’ƒğ’ğ’…ğ’‰ğ’– ğŸ˜ğŸ’« ğ‘µğ’‚ğ’ ğ‘µğ’Šğ’ğ’‚ğ’Šğ’—ğ’–ğ’ˆğ’‚ğ’ğ’Šğ’ğ’† ğ‘»ğ’‰ğ’ğ’ğ’…ğ’–ğ’—ğ’†ğ’ ğŸ’âœ¨**",
"**ğ‘µğ’†ğ’† ğ‘¬ğ’ğ’ğ’‚ğ’Š ğ‘·ğ’‚ğ’•ğ’‰ğ’Š ğ‘¨ğ’ğ’ƒğ’‚ğ’ˆğ’‚ ğ‘·ğ’†ğ’”ğ’–ğ’ğ’ƒğ’ğ’…ğ’‰ğ’– ğŸ˜ğŸ’ ğ‘µğ’‚ğ’ ğ‘¼ğ’ğ’‚ğ’ˆğ’‚ğ’—ğ’† ğ‘²ğ’‚ğ’ğ’…ğ’– ğ‘´ğ’–ğ’…ğ’Šğ’—ğ’†ğ’ ğŸ’âœ¨**",
"**ğ‘µğ’†ğ’† ğ‘ºğ’Šğ’“ğ’Šğ’„ğ’‰ğ’‚ ğŸ˜˜ğŸ’ ğ‘¬ğ’ ğ‘°ğ’…ğ’‚ğ’šğ’‚ğ’ ğ‘½ğ’Šğ’ğ’ğ’†ğ’ğ’ğ’‚ğ’…ğ’Š ğ‘·ğ’‚ğ’šğ’‚ğ’ğ’‚ğ’ ğŸ’âœ¨**",
"**ğ‘µğ’†ğ’† ğ‘ºğ’‚ğ’ğ’Šğ’‘ğ’‚ğ’ ğ‘µğ’Šğ’ğ’‚ğ’ğ’ƒğ’ğ’…ğ’‰ğ’– ğŸ˜ğŸ’ ğ‘µğ’‚ğ’ ğ‘²ğ’‚ğ’ğ’‚ğ’Šğ’—ğ’‚ğ’ğ’‚ğ’ğ’‚ğ’ˆ ğ‘´ğ’‚ğ’“ğ’Šğ’…ğ’–ğ’—ğ’†ğ’ ğŸ’âœ¨**",
"**ğ‘µğ’†ğ’† ğ‘·ğ’†ğ’”ğ’–ğ’ğ’ƒğ’ğ’…ğ’‰ğ’– ğŸ˜ğŸ’ ğ‘µğ’‚ğ’ ğ‘·ğ’‚ğ’…ğ’‚ğ’ğ’‚ğ’ˆ ğ‘´ğ’‚ğ’“ğ’Šğ’…ğ’–ğ’—ğ’†ğ’ ğŸ’âœ¨**",
"**ğ‘µğ’†ğ’† ğ‘·ğ’‚ğ’“ğ’Œğ’–ğ’ ğ‘·ğ’ğ’…ğ’‰ğ’– ğŸ˜ğŸ’ ğ‘µğ’‚ğ’ ğ‘µğ’Šğ’ğ’‚ğ’Šğ’—ğ’‚ğ’ˆğ’Š ğ‘´ğ’‚ğ’“ğ’Šğ’…ğ’–ğ’—ğ’†ğ’ ğŸ’âœ¨**",
"**ğ‘µğ’†ğ’† ğ‘ºğ’Šğ’“ğ’Šğ’„ğ’‰ğ’‚ ğŸ˜ğŸ’ ğ‘µğ’‚ğ’ ğ‘²ğ’‚ğ’ğ’‚ğ’Š ğ‘¨ğ’ğ’ƒğ’‚ğ’ˆğ’‚ ğ‘µğ’Šğ’“ğ’‚ğ’Šğ’—ğ’‚ğ’ˆğ’Šğ’…ğ’–ğ’—ğ’†ğ’ ğŸ’âœ¨**",
"**ğ‘µğ’†ğ’† ğ‘·ğ’‚ğ’“ğ’Œğ’–ğ’ğ’ƒğ’ğ’…ğ’‰ğ’– ğŸ˜ğŸ’ ğ‘µğ’‚ğ’ ğ‘½ğ’‚ğ’ğ’‚ğ’ğ’† ğ‘»ğ’‰ğ’ğ’ğ’…ğ’–ğ’—ğ’†ğ’ ğŸ’âœ¨**"
"**ğ‘µğ’†ğ’† ğ‘¬ğ’ ğ‘²ğ’‚ğ’ğ’—ğ’Šğ’ ğ‘½ğ’‚ğ’ğ’•ğ’‰ğ’‚ğ’ ğŸ˜ğŸ’ ğ‘µğ’‚ğ’ ğ‘µğ’Šğ’…ğ’“ğ’‚ğ’Š ğ‘´ğ’‚ğ’“ğ’‚ğ’ğ’•ğ’‰ğ’Šğ’…ğ’–ğ’—ğ’†ğ’ ğŸ’«âœ¨**",
"**ğ‘µğ’†ğ’† ğ‘¬ğ’ ğ‘²ğ’‚ğ’Šğ’šğ’‚ ğ‘·ğ’Šğ’…ğ’Šğ’Œğ’Œğ’–ğ’ğ’ƒğ’ğ’…ğ’‰ğ’– ğŸ¤ğŸ’ ğ‘¬ğ’ ğ‘¼ğ’ğ’‚ğ’ˆğ’‚ğ’ ğ‘µğ’Šğ’ğ’“ğ’–ğ’—ğ’Šğ’…ğ’–ğ’ ğŸ’«âœ¨**",
"**ğ‘µğ’†ğ’† ğ‘·ğ’†ğ’“ğ’–ğ’ ğ‘ºğ’Šğ’“ğ’Šğ’„ğ’‰ğ’‚ ğŸ˜˜ğŸ’ ğ‘µğ’‚ğ’ ğ‘²ğ’‚ğ’ğ’‚ğ’Š ğ‘½ğ’†ğ’ğ’Šğ’šğ’† ğ‘·ğ’‚ğ’…ğ’–ğ’—ğ’†ğ’ ğŸ’«âœ¨**",
"**ğ‘µğ’†ğ’† ğ‘´ğ’ğ’ğ’…ğ’Šğ’šğ’‚ğ’ ğ‘·ğ’†ğ’”ğ’–ğ’ğ’ƒğ’ğ’…ğ’‰ğ’– ğŸ˜ğŸ’ ğ‘µğ’‚ğ’ ğ‘¨ğ’ğ’ƒğ’Šğ’ ğ‘°ğ’ğ’Šğ’ğ’‚ğ’Š ğ‘²ğ’‚ğ’ğ’…ğ’–ğ’—ğ’†ğ’ ğŸ’«âœ¨**",
"**ğ‘µğ’†ğ’† ğ‘¬ğ’ ğ‘°ğ’…ğ’‚ğ’šğ’‚ğ’•ğ’‰ğ’Šğ’ ğ‘ºğ’†ğ’“ğ’ğ’…ğ’‰ğ’‚ğ’ ğŸ’–âœ¨ ğ‘µğ’‚ğ’ ğ‘¬ğ’ğ’ğ’‚ğ’—ğ’† ğ‘´ğ’‚ğ’“ğ’‚ğ’ğ’•ğ’‰ğ’Šğ’…ğ’–ğ’—ğ’†ğ’ ğŸ’«ğŸ’**",
"**ğ‘µğ’†ğ’† ğ‘½ğ’‚ğ’ğ’Šğ’šğ’Šğ’ ğ‘°ğ’“ğ’–ğ’ğ’…ğ’‰ğ’‚ ğŸ˜¢ğŸ’ ğ‘µğ’‚ğ’ ğ‘¨ğ’ğ’ƒğ’Šğ’ ğ‘´ğ’‚ğ’“ğ’–ğ’ğ’‚ğ’Š ğ‘»ğ’‰ğ’‚ğ’“ğ’–ğ’—ğ’†ğ’ ğŸ’«âœ¨**",
"**ğ‘µğ’†ğ’† ğ‘¬ğ’ ğ‘·ğ’†ğ’“ğ’‚ğ’Š ğ‘¨ğ’›ğ’‚ğ’Šğ’Œğ’–ğ’ğ’ƒğ’ğ’…ğ’‰ğ’– ğŸ˜ğŸ’ ğ‘µğ’‚ğ’ ğ‘¨ğ’—ğ’‚ğ’ğ’Š ğ‘´ğ’†ğ’ ğ‘·ğ’‚ğ’…ğ’‚ğ’ğ’Šğ’…ğ’–ğ’—ğ’†ğ’ ğŸ’«âœ¨**",
"**ğ‘µğ’†ğ’† ğ‘¬ğ’ ğ‘·ğ’‚ğ’•ğ’‰ğ’Š ğ‘·ğ’†ğ’”ğ’–ğ’ğ’ƒğ’ğ’…ğ’‰ğ’– ğŸ’ğŸ’« ğ‘µğ’‚ğ’ ğ‘²ğ’‚ğ’ğ’‚ğ’Š ğ‘²ğ’‚ğ’…ğ’‚ğ’Š ğ‘¨ğ’ˆğ’Šğ’…ğ’–ğ’—ğ’†ğ’ ğŸ’âœ¨**",
"**ğ‘µğ’†ğ’† ğ‘µğ’Šğ’ğ’‚ğ’Šğ’Œğ’Œğ’–ğ’ğ’ƒğ’ğ’…ğ’‰ğ’– ğŸ˜ğŸ’ ğ‘µğ’‚ğ’ ğ‘°ğ’…ğ’‚ğ’šğ’‚ğ’•ğ’‰ğ’Šğ’ ğ‘·ğ’ğ’ ğ‘´ğ’‚ğ’ğ’‚ğ’“ğ’–ğ’—ğ’†ğ’ ğŸ’«âœ¨**",
"**ğ‘µğ’†ğ’† ğ‘¬ğ’ ğ‘·ğ’‚ğ’Œğ’Œğ’‚ğ’•ğ’‰ğ’Šğ’ ğ‘µğ’Šğ’ğ’‚ğ’ğ’ƒğ’ğ’…ğ’‰ğ’– ğŸ˜ğŸ’ ğ‘µğ’‚ğ’ ğ‘°ğ’ğ’ƒğ’‚ğ’ğ’‚ğ’ˆ ğ‘´ğ’‚ğ’“ğ’Šğ’…ğ’–ğ’—ğ’†ğ’ ğŸ’«âœ¨**",
"**ğ‘µğ’†ğ’† ğ‘·ğ’‚ğ’•ğ’‰ğ’Š ğ‘ºğ’Šğ’“ğ’Šğ’„ğ’‰ğ’‚ ğŸ˜˜ğŸ’ ğ‘µğ’‚ğ’ ğ‘½ğ’†ğ’ğ’Šğ’šğ’† ğ‘½ğ’‚ğ’ğ’‚ğ’ğ’‚ğ’ˆ ğ‘µğ’Šğ’ğ’“ğ’–ğ’—ğ’†ğ’ ğŸ’«âœ¨**",
"**ğ‘µğ’†ğ’† ğ‘¬ğ’ ğ‘·ğ’†ğ’“ğ’‚ğ’Š ğ‘µğ’†ğ’ğ’‚ğ’Šğ’Œğ’Œğ’–ğ’ğ’ƒğ’ğ’…ğ’‰ğ’– ğŸ’ğŸ’« ğ‘µğ’‚ğ’ ğ‘¼ğ’ ğ‘µğ’†ğ’ğ’‹ğ’Šğ’ ğ‘½ğ’†ğ’†ğ’…ğ’– ğ‘²ğ’‚ğ’•ğ’•ğ’–ğ’—ğ’†ğ’ ğŸ’âœ¨**",
"**ğ‘µğ’†ğ’† ğ‘¬ğ’ ğ‘²ğ’‚ğ’ğ’ğ’‚ ğ‘µğ’ğ’Œğ’Œğ’–ğ’ğ’ƒğ’ğ’…ğ’‰ğ’– ğŸ˜ğŸ’ ğ‘µğ’‚ğ’ ğ‘°ğ’ğ’ƒğ’‚ ğ‘ºğ’‚ğ’ˆğ’‚ğ’“ğ’‚ğ’ ğ‘¨ğ’ˆğ’Šğ’…ğ’–ğ’—ğ’†ğ’ ğŸ’«âœ¨**",
"**ğ‘µğ’†ğ’† ğ‘¼ğ’“ğ’‚ğ’•ğ’‰ğ’Š ğ‘·ğ’†ğ’”ğ’–ğ’ğ’ƒğ’ğ’…ğ’‰ğ’– ğŸ’ğŸ’« ğ‘µğ’‚ğ’ ğ‘´ğ’†ğ’ˆğ’‚ğ’ğ’‚ğ’ˆ ğ‘»ğ’‰ğ’ğ’ğ’…ğ’–ğ’—ğ’†ğ’ ğŸ’«âœ¨**",
"**ğ‘µğ’†ğ’† ğ‘¬ğ’ ğ‘·ğ’†ğ’“ğ’‚ğ’Š ğ‘ªğ’‰ğ’ğ’ğ’ğ’–ğ’ğ’ƒğ’ğ’…ğ’‰ğ’– ğŸ’–ğŸ’« ğ‘µğ’‚ğ’ ğ‘·ğ’‚ğ’—ğ’‚ğ’Š ğ‘»ğ’‰ğ’ğ’ğ’…ğ’–ğ’—ğ’†ğ’ ğŸ’âœ¨**"
         ]

# Command
SHAYRI_COMMAND = ["romantic"]

@app.on_message(
    filters.command(SHAYRI_COMMAND)
    & filters.group
    )
async def help(client: Client, message: Message):
    await message.reply_text(
             f"<blockquote>{random.choice(SHAYRI)}</blockquote>",
             parse_mode="HTML"
    )
        reply_markup=InlineKeyboardMarkup(
            [
                [
                    InlineKeyboardButton(
                        "ğŸ’• ğğ–½ğ–¾“ğ–¾Ÿğ–½™ğ–¾–á´‹ ğŸ¦‹", url=f"https://t.me/HeartBeat_Offi"),
                    InlineKeyboardButton(
                        "ğŸ’• ğğ–¾Ÿğ–½¡ğ–½ğ–¾– ğŸ¦‹", url=f"https://t.me/HeartBeat_Fam")
                    
                ]
            ]
        ),
    )

@app.on_message(
    filters.command(SHAYRI_COMMAND)
    & filters.private
    )
async def help(client: Client, message: Message):
    await message.reply_text(
             f"<blockquote>{random.choice(SHAYRI)}</blockquote>",
             parse_mode="HTML"
    )
        reply_markup=InlineKeyboardMarkup(
            [
                [
                    InlineKeyboardButton(
                         "ğŸ’• ğğ–½ğ–¾“ğ–¾Ÿğ–½™ğ–¾–á´‹ ğŸ¦‹", url=f"https://t.me/HeartBeat_Offi"),
                    InlineKeyboardButton(
                        "ğŸ’• ğğ–¾Ÿğ–½¡ğ–½ğ–¾– ğŸ¦‹", url=f"https://t.me/HeartBeat_Muzic")
                    
                ]
            ]
        ),
    )
